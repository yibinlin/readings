<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Mac OS Setup | Yibin Lin's Reading Blog</title><meta name=keywords content="setup,configuration,mac os x"><meta name=description content="Desc Text."><meta name=author content="Yibin Lin"><link rel=canonical href=https://yibinlin.github.io/readings/posts/mac_os_setup/><link href=/readings/assets/css/stylesheet.min.f45542b39fa3d45a107a3b6c5defd87315ed007f967c04d8a2133e32854f9edf.css integrity="sha256-9FVCs5+j1FoQejtsXe/YcxXtAH+WfATYohM+MoVPnt8=" rel="preload stylesheet" as=style><link rel=icon href=https://yibinlin.github.io/readings/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://yibinlin.github.io/readings/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://yibinlin.github.io/readings/favicon-32x32.png><link rel=apple-touch-icon href=https://yibinlin.github.io/readings/apple-touch-icon.png><link rel=mask-icon href=https://yibinlin.github.io/readings/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><meta property="og:title" content="Mac OS Setup"><meta property="og:description" content="Desc Text."><meta property="og:type" content="article"><meta property="og:url" content="https://yibinlin.github.io/readings/posts/mac_os_setup/"><meta property="og:image" content="https://yibinlin.github.io/readings/%3Cimage%20path/url%3E"><meta property="article:published_time" content="2021-04-10T00:00:00+00:00"><meta property="article:modified_time" content="2021-04-10T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yibinlin.github.io/readings/%3Cimage%20path/url%3E"><meta name=twitter:title content="Mac OS Setup"><meta name=twitter:description content="Desc Text."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://yibinlin.github.io/readings/posts/"},{"@type":"ListItem","position":2,"name":"Mac OS Setup","item":"https://yibinlin.github.io/readings/posts/mac_os_setup/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Mac OS Setup","name":"Mac OS Setup","description":"Setting up vim \u0026amp;#34; You need to import default vim settings first, e.g. syntax highlighting, etc.source $VIMRUNTIME/defaults.vi\u0026amp;#34; Set non visual mode when mouse is dragging on …","keywords":["setup","configuration","mac os x"],"articleBody":"Setting up vim \" You need to import default vim settings first, e.g. syntax highlighting, etc.source $VIMRUNTIME/defaults.vi\" Set non visual mode when mouse is dragging on vimset mouse-=a\" set 1 tab == 4 spaces..filetype plugin indent on\" show existing tab with 4 spaces widthset tabstop=4\" when indenting with '', use 4 spaces widthset shiftwidth=4\" On pressing tab, insert 4 spacesset expandtabrun .bashrc at .bash_profile time if [ -f $HOME/.bashrc ]; then source $HOME/.bashrc fi  Difference between .bashrc and .bash_profile  Basically .bash_profile runs at log-in, .bashrc runs when you run an interactive shell But in Mac OS X, it runs login shell every time (even for starting an interactive shell).    Highlight for git branch name  Find git-prompt.sh from official git repo Setup code example  source ~/.git-prompt.sh PS1='[\\u@\\h \\W$(__git_ps1 \" \\[\\033[32m\\](%s)\\[\\033[00m\\]\")]\\$ ' Double Pinyin (双拼)   使用Ctrl + space来改变输入法。 Use Ctrl + space to change input source..\n  使用Karabiner来把Shift键映射为Ctrl + space。Use Karabiner to support using Shift to switch between input sources.\n 以下为映射代码 （需要放在~/.config/karabiner/karabiner.json，可能需要先做Karabiner UI里面先映射一个simple modification，然后karabiner.json文件才会被创建。）Code to do that (to be put in ~/.config/karabiner/karabiner.json, you may need to set a simple modification first in Karabiner UI, then do this). 更改文件中 complex_modifications = rules 的内容。You need to change the complex_modifications = rules as follows:  \"rules\": [ { \"manipulators\": [ { \"description\": \"Change left_shift to control+space when used alone\", \"from\": { \"key_code\": \"left_shift\", \"modifiers\": { \"optional\": [ \"any\" ] } }, \"to\": [ { \"key_code\": \"left_shift\" } ], \"to_if_alone\": [ { \"key_code\": \"spacebar\", \"modifiers\": [ \"left_control\" ] } ], \"type\": \"basic\" } ] } ]  引用 Credit: Armin’s Blog    ","wordCount":"252","inLanguage":"en","image":"https://yibinlin.github.io/readings/%3Cimage%20path/url%3E","datePublished":"2021-04-10T00:00:00Z","dateModified":"2021-04-10T00:00:00Z","author":{"@type":"Person","name":"Yibin Lin"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://yibinlin.github.io/readings/posts/mac_os_setup/"},"publisher":{"@type":"Organization","name":"Yibin Lin's Reading Blog","logo":{"@type":"ImageObject","url":"https://yibinlin.github.io/readings/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://yibinlin.github.io/readings/ accesskey=h title="Yibin Lin's Reading Blog (Alt + H)">Yibin Lin's Reading Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Mac OS Setup</h1><div class=post-description>Desc Text.</div><div class=post-meta>April 10, 2021&nbsp;·&nbsp;Yibin Lin</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#setting-up-vim aria-label="Setting up vim">Setting up vim</a></li><li><a href=#run-bashrc-at-bash_profile-time aria-label="run .bashrc at .bash_profile time">run .bashrc at .bash_profile time</a></li><li><a href=#highlight-for-git-branch-name aria-label="Highlight for git branch name">Highlight for git branch name</a></li><li><a href=#double-pinyin-%e5%8f%8c%e6%8b%bc aria-label="Double Pinyin (双拼)">Double Pinyin (双拼)</a></li></ul></div></details></div><div class=post-content><h2 id=setting-up-vim>Setting up vim<a hidden class=anchor aria-hidden=true href=#setting-up-vim>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vimrc data-lang=vimrc><span style=color:#75715e>&#34; You need to import default vim settings first, e.g. syntax highlighting, etc.</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>source</span> $<span style=color:#a6e22e>VIMRUNTIME</span>/<span style=color:#a6e22e>defaults</span>.<span style=color:#a6e22e>vi</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>
</span><span style=color:#75715e>&#34; Set non visual mode when mouse is dragging on vim</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>set</span> <span style=color:#a6e22e>mouse</span>-=<span style=color:#a6e22e>a</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>
</span><span style=color:#75715e>&#34; set 1 tab == 4 spaces..</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>filetype</span> <span style=color:#a6e22e>plugin</span> <span style=color:#a6e22e>indent</span> <span style=color:#a6e22e>on</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>&#34; show existing tab with 4 spaces width</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>set</span> <span style=color:#a6e22e>tabstop</span>=<span style=color:#ae81ff>4</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>&#34; when indenting with &#39;&gt;&#39;, use 4 spaces width</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>set</span> <span style=color:#a6e22e>shiftwidth</span>=<span style=color:#ae81ff>4</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#75715e>&#34; On pressing tab, insert 4 spaces</span><span style=color:#960050;background-color:#1e0010>
</span><span style=color:#960050;background-color:#1e0010></span><span style=color:#a6e22e>set</span> <span style=color:#a6e22e>expandtab</span><span style=color:#960050;background-color:#1e0010>
</span></code></pre></div><h2 id=run-bashrc-at-bash_profile-time>run .bashrc at .bash_profile time<a hidden class=anchor aria-hidden=true href=#run-bashrc-at-bash_profile-time>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> <span style=color:#f92672>[</span> -f $HOME/.bashrc <span style=color:#f92672>]</span>; <span style=color:#66d9ef>then</span>
        source $HOME/.bashrc
<span style=color:#66d9ef>fi</span>
</code></pre></div><ul><li><a href=https://apple.stackexchange.com/questions/51036/what-is-the-difference-between-bash-profile-and-bashrc>Difference between .bashrc and .bash_profile</a><ul><li>Basically <code>.bash_profile</code> runs at log-in, <code>.bashrc</code> runs when you run an interactive shell</li><li>But in Mac OS X, it runs login shell every time (even for starting an interactive shell).</li></ul></li></ul><h2 id=highlight-for-git-branch-name>Highlight for git branch name<a hidden class=anchor aria-hidden=true href=#highlight-for-git-branch-name>#</a></h2><ul><li>Find git-prompt.sh from official git repo</li><li>Setup code example</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>source ~/.git-prompt.sh
PS1<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;[\u@\h \W$(__git_ps1 &#34; \[\033[32m\](%s)\[\033[00m\]&#34;)]\$ &#39;</span>
</code></pre></div><h2 id=double-pinyin-双拼>Double Pinyin (双拼)<a hidden class=anchor aria-hidden=true href=#double-pinyin-双拼>#</a></h2><ol><li><p>使用Ctrl + space来改变输入法。 Use Ctrl + space to change input source..</p></li><li><p>使用Karabiner来把<code>Shift</code>键映射为<code>Ctrl + space</code>。Use <a href=https://karabiner-elements.pqrs.org/>Karabiner</a> to support using <code>Shift</code> to switch between input sources.</p><ul><li>以下为映射代码 （需要放在<code>~/.config/karabiner/karabiner.json</code>，可能需要先做<code>Karabiner</code> UI里面先映射一个<code>simple modification</code>，然后<code>karabiner.json</code>文件才会被创建。）Code to do that (to be put in <code>~/.config/karabiner/karabiner.json</code>, you may need to set a <code>simple modification</code> first in <code>Karabiner</code> UI, then do this).</li><li>更改文件中 <code>complex_modifications</code> => <code>rules</code> 的内容。You need to change the <code>complex_modifications</code> => <code>rules</code> as follows:</li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>                  <span style=color:#e6db74>&#34;rules&#34;</span><span style=color:#960050;background-color:#1e0010>:</span> [
                   {
                    <span style=color:#f92672>&#34;manipulators&#34;</span>: [
                        {
                            <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Change left_shift to control+space when used alone&#34;</span>,
                            <span style=color:#f92672>&#34;from&#34;</span>: {
                                <span style=color:#f92672>&#34;key_code&#34;</span>: <span style=color:#e6db74>&#34;left_shift&#34;</span>,
                                <span style=color:#f92672>&#34;modifiers&#34;</span>: {
                                    <span style=color:#f92672>&#34;optional&#34;</span>: [
                                        <span style=color:#e6db74>&#34;any&#34;</span>
                                    ]
                                }
                            },
                            <span style=color:#f92672>&#34;to&#34;</span>: [
                                {
                                    <span style=color:#f92672>&#34;key_code&#34;</span>: <span style=color:#e6db74>&#34;left_shift&#34;</span>
                                }
                            ],
                            <span style=color:#f92672>&#34;to_if_alone&#34;</span>: [
                                {
                                    <span style=color:#f92672>&#34;key_code&#34;</span>: <span style=color:#e6db74>&#34;spacebar&#34;</span>,
                                    <span style=color:#f92672>&#34;modifiers&#34;</span>: [
                                        <span style=color:#e6db74>&#34;left_control&#34;</span>
                                    ]
                                }
                            ],
                            <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;basic&#34;</span>
                        }
                    ]
                }
            ]
</code></pre></div><ul><li>引用 Credit: <a href=https://arminli.com/custom-karabiner-elements-shift/>Armin&rsquo;s Blog</a></li></ul></li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://yibinlin.github.io/readings/tags/setup/>setup</a></li><li><a href=https://yibinlin.github.io/readings/tags/configuration/>configuration</a></li><li><a href=https://yibinlin.github.io/readings/tags/mac-os-x/>mac os x</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://yibinlin.github.io/readings/>Yibin Lin's Reading Blog</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script defer src=/readings/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>